> **02.18.**

## revert ( 커밋 되돌리기 )

현재 커밋을 보존하면서 과거 버전으로 되돌아가는 방법이다.
SourceTree에서 우클릭 '커밋 되돌리기' 사용 

**[단점] [주의!]** 충돌 날 가능성이 매우 높다. 다소 어렵다.

**[TIP①]** revert로 여러 커밋을 되돌리기!

- 최신부터 순서대로 revert를 반복 적용하면 된다.

**[TIP②]**특정 커밋 하나만 취소 하기!

- 직접 선택해서 revert를 하면 된다.

  **[주의!]** 충돌이 날 가능성이 있습니다. 
  			그러니 이왕이면 순서대로 revert를 진행하는 것이 좋다.

<br>

<br>

<br>

---

### [ branch checkout 조건 ]

브랜치를 만들고 체크아웃을 통해 변경하려고 하면 현재 작업디렉토리가 깨끗해야 합니다. 

<br/>

<br/>

# 임시 저장 하는법

**[상황]** commit 하지 않은 코드를 작업 중 부득이하게 다른 브랜치로 checkout 해야하는 상황 발생

<br/>

  ## [해결1] 이전 커밋 덮어쓰기 ( 미지막 커밋 정정 )

**[주의!] 강제 푸시를 필요할 수 있다.**

<br/>

1. 일단 커밋한다.
2. [커밋옵션] - [마지막 커밋 정정]

* **강제푸시를 하는 경우**

  branch를 푸시한 경우 위와 같은 작업을 할 경우 새로운 브랜치가 생기기 때문에 강제 푸시를 해야 한다. 그러니 <u>임시 commmit 같은 경우 서버에 보내면 안된다.</u>

<br/>

<br/>

## [해결2] stash ★

스태시를 사용하면 임시 저장 공간에 현재 작업 내용이 저장됩니다. 
이 내용을 스태시라고 하고 언제든지 다시 복구할 수 있습니다.

**[주의!]**  새로운 파일 있다면 일단 Staging area에 올린후 stash한다.

<br>

<br>

# rebase ( 재배치 )

merge 처럼 두 브랜치를 합칠 때 사용한다.
**[주의!]** 브랜치 재배치 병합 중에는 브랜치 삭제가 안된다?? (**확인필요**) 
            단순 병합에도 해당하는 것 같기도 하고?

<br/>

### 사용법

1. '현재 변경사항을 (A브랜치)에 재배치' 클릭

2. 충돌

   **[주의!]** 충돌 해결 방식이 기존에 방식과 다릅니다 

3. 변경해주고 statging area 올리기

4. (다시) '현재 변경사항을 (A브랜치)에 재배치' 클릭 - '재배치 계속' 클릭 

   * 이 상황은 CLI에서 rebase continue에 해당한다.

5. 마지막으로 '현재 브랜치로 (A브랜치) 병합' 클릭

<br/>

### 장점

- 깔끔한 트리 정리

### 단점

- 위험하다 - 충돌 가능성이 더 높다.
- 이미 원격에 있는 브랜치를 rebase 하면 안 된다!

<br>

<br>

## 좋은 커밋의 단위

- 커밋은 자주 합시다!
- 원자적으로 쪼갤 수 없는 단위 (주로 함수 등)의 의미있는 개발을 했다면 커밋을 합시다.



